<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="UTF-8">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="css/reset.css" />

	<title>MooLego - Components Playground</title>
	
	<script type="text/javascript" src="mootools/core.js"></script>
	<script type="text/javascript" src="mootools/more.js"></script>

	<script type="text/javascript" src="../Utils/Singleton.js"></script>
	<script type="text/javascript" src="../Utils/mooCanvas.js"></script>

	<script type="text/javascript" src="../Source/Core/UI.js"></script>
	<script type="text/javascript" src="../Source/Core/Controller.js"></script>
	<script type="text/javascript" src="../Source/Core/Canvas.js"></script>
	<script type="text/javascript" src="../Source/Core/Skin.js"></script>
	<script type="text/javascript" src="../Source/Core/Element.js"></script>

	<script type="text/javascript" src="../Source/Control/Control.js"></script>
	<script type="text/javascript" src="../Source/Control/Label.js"></script>
	<script type="text/javascript" src="../Source/Control/Input.js"></script>
	<script type="text/javascript" src="../Source/Control/Button.js"></script>
	<script type="text/javascript" src="../Source/Control/Textarea.js"></script>
	<script type="text/javascript" src="../Source/Control/Checkbox.js"></script>
	<script type="text/javascript" src="../Source/Control/RadiosGroup.js"></script>
	<script type="text/javascript" src="../Source/Control/Select.js"></script>
	<script type="text/javascript" src="../Source/Control/Slider.js"></script>
	<script type="text/javascript" src="../Source/Control/Scrollbar.js"></script>

	<script type="text/javascript" src="../Source/Menu/Menu.js"></script>
	<script type="text/javascript" src="../Source/Menu/Toolbar.js"></script>
	<script type="text/javascript" src="../Source/Menu/Context.js"></script>
	<script type="text/javascript" src="../Source/Menu/Scroller.js"></script>

	<script type="text/javascript" src="../Source/View/View.js"></script>
	<script type="text/javascript" src="../Source/View/PanelView.js"></script>
	<script type="text/javascript" src="../Source/View/TabView.js"></script>
	<script type="text/javascript" src="../Source/View/SplitView.js"></script>
	<script type="text/javascript" src="../Source/View/Bubble.js"></script>

	<script type="text/javascript" src="../Source/Window/Window.js"></script>
	<script type="text/javascript" src="../Source/Window/Window.Controller.js"></script>
	<script type="text/javascript" src="../Source/Window/Panel.js"></script>
	
	<script type="text/javascript" src="../Source/Skins/GreyGlass.js"></script>
	
	<script type="text/javascript">
		window.addEvent('load', function() {
			var time = $time();
			
			this.toolbar = new UI['Toolbar']({
				displayMode : 'text',
				draggable	: false,
				menu		: [
					{
						text	: 'MooLego',
						styles	: {
							position	: 'relative'
						},
						menu : [
							{
								text : 'About',
								action : function() { 
									new UI.Window({
										title			: 'about',
										width			: 300,
										height			: 160,
										head			: false,
										viewOverflow 	: 'hidden',
										controls		: ['close']
									});
								}
							},
							{ 
								text 		: 'Software version...',
								action : function() { this.test('about'); alert('click')}.bind(this)
							},
							{ text		: 'separator' },
							{ 
								text 		: 'Préférences systemes...',
								action : function() { new App.Settings() }
							},
							{ text		: 'separator' },{
								text : 'Elements récents',
								menu : [
									{text : 'Finder'},
									{text : 'Safari'},
									{text : 'Mail'},
									{text : 'Protoshop'},
									{text : 'Nasty Explorer'}
								]
							},
							{ text		: 'separator' },
							{
								text : 'Fermer la session'
							}
						]
					},
					{
						text : 'New',
						options : {'class' : 'ui-dd-new'},
						menu		: [
							{
								text : 'Button',
								action : function() { 
									new UI.Button().inject(form, 'top');
								}.bind(this)
							},
							{ 
								text 		: 'Window',
								action : function() { 
									new UI.Window();
								}.bind(this)
							}
						]
					},
					{
						text : 'Window',
						options : {'class' : 'ui-dd-new'},
						menu		: [
							{
								text : 'About',
								action : function() { this.test('about'); alert('click')}.bind(this)
							},
							{ text 		: 'Minimizer'},
							{ text		: 'separator' },
							{ text		: 'Cascade',
							  action: function(){
							  	this.windowManager.resetCascade()
							  }.bind(this)
							  
							}
						]
					},
					{
						text : 'Help',
						options : {'class' : 'ui-dd-help'},
						menu : [
							{ text : 'Welcome' },
							{ text : 'separator' },
							{ text : 'Update...' },
							{ text : 'separator' },
							{ text : 'Settings...' }
						]
					},
					{
						text : 'History...',
						action: function(){alert('menu with action')},
						menu : [
							{text: 'Page down'},
							{text: 'Page up'},
							{text: 'Microsoft'}
						]
					}
				]						
			}).inject(document.body,'top');
			
			/* Elements in page */
			var form = new Element('form', {
				id				: 'controltest',
				method			: 'get',
				styles			: {
					margin		: '50px 50px 0'
				}
			}).inject(document.body);
			
			var color = [0, 0, 0];
			var updateColor = function(){
				colorButton.props.layers.main.color = color.rgbToHex();
				colorButton.set('html', color.rgbToHex());
			};
			
			var colorButton = new UI.Button({
				label				: 'Color',
				labelStyles			: {
					fontSize		: '42px',
					fontWeight		: 'bold',
					padding			: 50,
					color			: '#fff'
				},
				styles		: {
					'float'			: 'right',
					margin			: '0 100px 0 0'
				}
			}).inject(form);
			
			new UI.Slider({
				range				: [0, 255],
				styles				: {
					margin			: '20px 10px',
					display			: 'block'	
				},
				wheel				: true,
				onChange: function(step){
					color[0] = step;
					updateColor();
				}
			}).inject(form);
			
			new UI.Slider({
				range				: [0, 255],
				styles				: {
					margin			: '20px 10px',
					display			: 'block'	
				},
				wheel				: true,
				onChange: function(step){
					color[1] = step;
					updateColor();
				}
			}).inject(form);
			
			new UI.Slider({
				range				: [0, 255],
				styles				: {
					margin			: '20px 10px',
					display			: 'block'	
				},
				wheel				: true,
				onChange: function(step){
					color[2] = step;
					updateColor();
				}
			}).inject(form);
		});
	</script>
</head>

<body></body>

</html>
