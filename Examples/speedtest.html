<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		
		<script type="text/javascript" src="mootools/core.js"></script>
		<script type="text/javascript" src="mootools/more.js"></script>
		
		<script type="text/javascript" src="../Utils/Singleton.js"></script>
		<script type="text/javascript" src="../Utils/mooCanvas.js"></script>
		
		<script type="text/javascript" src="../Source/Core/UI.js"></script>
		<script type="text/javascript" src="../Source/Core/Canvas.js"></script>
		<script type="text/javascript" src="../Source/Core/Skin.js"></script>
			
		<script type="text/javascript" src="../Source/Element/Element.js"></script>
		<script type="text/javascript" src="../Source/Element/Element.Drag.js"></script>
		<script type="text/javascript" src="../Source/Element/Element.Resize.js"></script>
		<script type="text/javascript" src="../Source/Element/Element.Controller.js"></script>
		
		<script type="text/javascript" src="../Source/Control/Control.js"></script>
		<script type="text/javascript" src="../Source/Control/Label.js"></script>
		<script type="text/javascript" src="../Source/Control/Button.js"></script>
		<script type="text/javascript" src="../Source/Control/Slider.js"></script>



		<script type="text/javascript" src="../Skins/AquaGraphite.js"></script>
		<script type="text/javascript" src="../Skins/Demo.js"></script>
		<script type="text/javascript" src="../Skins/BlueTouch.js"></script>
		
		<script type="text/javascript" src="js/examples.js"></script>
		
		<title>mooLego Speed Test</title>
		
		<script type="text/javascript">
			window.addEvent('domready', function(){
				
				var offone = 4;
				var offtwo = 4;
				var ratioone = 42.5
				var ratiotwo = 42.5
				
				buttons = new Array();
				
				
				function toHex(n) {
					if (n==null) return "00";
					n=parseInt(n); if (n==0 || isNaN(n)) return "00";
					n=Math.max(0,n); n=Math.min(n,255); n=Math.round(n);
					return "0123456789ABCDEF".charAt((n-n%16)/16)
					+ "0123456789ABCDEF".charAt(n%16);
				};

				var slidator = new Element('div' , {
					styles : {
						width : '200px',
						height : '100px',
						position : 'absolute',
						top : '100px',
						right : '20px'
					}
				}).inject(document.body);
				
				new UI.Label({
					html : 'color offset'
				}).inject(slidator);
				
				new UI.Slider({
					skin : 'BlueTouch',
					range : [-10, 10],
					styles : {
						margin			: '3px 0',
						display			: 'block'
					},
					wheel				: true,
					onChange: function(step){
						offone = step 
					}
				}).inject(slidator);
				
				new UI.Slider({
					//width: 50,
					skin				: 'BlueTouch',
					range				: [-10, 10],
					styles				: {
						margin			: '3px 0',
						display			: 'block'
					},
					wheel				: true,
					onChange: function(step){
						offone = step 
					}
				}).inject(slidator);
				new UI.Label({
					html : 'color offset'
				}).inject(slidator);
				
				new UI.Slider({
					skin : 'BlueTouch',
					range : [10, 42],
					styles : {
						margin			: '3px 0',
						display			: 'block'
					},
					wheel				: true,
					onChange: function(step){
						ratioone = step 
					}
				}).inject(slidator);
				
				new UI.Slider({
					//width: 50,
					skin				: 'BlueTouch',
					range				: [10, 42],
					styles				: {
						margin			: '3px 0',
						display			: 'block'
					},
					wheel				: true,
					onChange: function(step){
						ratiotwo = step 
					}
				}).inject(slidator);
					
					
				var button = new UI.Button({
					label	: 'update',
					onClick	: function(){
						test();
					},
					styles	: {
						margin		: 10,
						fontFamily	: 'arial, helvetica, sans-serif',
						fontSize	: '13px',
					}
				}).inject(slidator);	
					
					
				function RGBtoHex(R,G,B) {return toHex(R)+toHex(G)+toHex(B)}
								
				var box = new Element('div',{
					styles			: {
						padding		: '8px 16px',
						width		: '820px',
						height		: '580px',
						overflow	: 'hidden'
					}
				}).inject(document.body);
				
				
				
				
				var size = 7;
				
				var test = function(){
					time = $time();
					var index = 0;
					for (i = 0; i < size; i++) {
						for (j = 0; j < size; j++) {
						
							var one = size - i + offone;
							var two = size - j + offtwo;
							
							var color = RGBtoHex(0,Math.floor(255 - ratioone * one),  Math.floor(255 - ratiotwo * two));
							//console.log(index)
							if (buttons[index]) {
								buttons[index].props.layers.front.color = '#' + color;
								buttons[index].set('html', '<small>time</small><br/>' + (($time() - time) / 1000) + '<br/><small style="font-size:5px: color:#ccc">color</small><br/>' + color);
								//console.log(index)
							}
							else {
								buttons.push(new UI.Button({
									label: '<small>time</small><br/>' + (($time() - time) / 1000) + '<br/><small style="font-size:5px: color:#ccc">color</small><br/>' + color,
									skin: 'demo',
									type: 'jgood',
									props: {
										'default': {
											layers: {
												front: {
													color: '#' + color
												}
											}
										},
										down: {
											layers: {
												front: {
													color: '#333'
												}
											}
										}
									}
								}).inject(box))
							}
							index++;
						}
					}
				}
				
				
				test();
			});
		</script>
	</head>
	<body style="padding:24px; margin: 0 auto">
	</body>
</html>
